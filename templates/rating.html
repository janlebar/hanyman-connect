{% extends 'base.html' %}

{% block content %}

<h1 style="text-align:center;">Rate "{{ apply.name_apply }}"</h1>
<div style="display:flex; justify-content:center; align-items:center;" class="text-center">
<form method="post" action="{{ url_for('rating', id_apply=apply.id_apply) }}">
    <p style="text-align:center;">Please rate this apply with stars:</p>
    <div class="rating flex" style="display:flex; justify-content:center;">
        <span class="star" data-value="1">&#9733;</span>
        <span class="star" data-value="2">&#9733;</span>
        <span class="star" data-value="3">&#9733;</span>
        <span class="star" data-value="4">&#9733;</span>
        <span class="star" data-value="5">&#9733;</span>
        <input type="hidden" name="rating" id="rating" required>
    </div>
    <input type="submit" value="Submit" class="mx-auto text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
</form>
</div>
<script>
  const stars = document.querySelectorAll('.star');
  const ratingInput = document.getElementById('rating');
  
  stars.forEach((star, index) => {
      star.addEventListener('click', () => {
          ratingInput.value = star.dataset.value;
          for(let i=0; i<=index; i++){
              stars[i].classList.add('text-yellow-500');
          }
          for(let i=index+1; i<stars.length; i++){
              stars[i].classList.remove('text-yellow-500');
          }
      });
  });
</script> 
{% endblock %}

